<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.dechy.travel.show.mapper.NewDetailMapper">
	<resultMap type="com.dechy.travel.show.model.NewDetail" id="orderFlow">
		<result column="create_date" property="createDate" />
	</resultMap>
	<select id="findNewDetails" resultType="com.dechy.travel.show.model.NewDetail" 
	resultMap="orderFlow">
		SELECT t.*, n.file_path as src FROM new_detail t LEFT JOIN files n ON t.id=n.fk and n.file_type=1
		<where>
			<if test="id!=null and id!=''">and t.id=#{id}</if>
			<if test="newType!=null and newType!=''">and t.new_type=#{newType}</if>
		</where>
	</select>
	
</mapper>
